<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"alleysira.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="记录进行区块链安全相关实践的内容">
<meta property="og:type" content="article">
<meta property="og:title" content="blockchain_security_practice">
<meta property="og:url" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/">
<meta property="og:site_name" content="Alleysira&#39;s blog">
<meta property="og:description" content="记录进行区块链安全相关实践的内容">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808153518780.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808153721923.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808154346951.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808154435450.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808154716045.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808162645237.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808162254861.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808164530260.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808164836841.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808165222863.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808165241088.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808165357492.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809123056555.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809123117003.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809123156744.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809123255480.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809150904086.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809123908501.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809152038862.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809152103463.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809151550887.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809151841133.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809151740084.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808161355316.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809104309202.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809104629946.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230726161506767.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230726161452774.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230726161536978.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230726161548380.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230726161601382.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230726161201164.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230726161215584.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808190913454.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808191054123.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230718103340279.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230718105438946.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809173729853.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809101350192.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809101656664.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809153500386.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809153954541.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809154619989.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809103030692.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809104145895.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809110124068.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809111650390.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809122109397.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809122728437.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809122840316.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230809122853930.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823160539917.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823161424799.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823161937784.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823162544339.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823163015429.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823163047474.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823163434087.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823163415266.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823163827741.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823174806363.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823175012906.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823181841584.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823181923882.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823182024043.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823183046224.png">
<meta property="og:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230823183530947.png">
<meta property="article:published_time" content="2023-08-08T07:24:54.000Z">
<meta property="article:modified_time" content="2023-08-25T06:29:00.159Z">
<meta property="article:author" content="Alleysira">
<meta property="article:tag" content="Blockchain">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://alleysira.github.io/2023/08/08/blockchain-security-practice/image-20230808153518780.png">

<link rel="canonical" href="https://alleysira.github.io/2023/08/08/blockchain-security-practice/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>blockchain_security_practice | Alleysira's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Alleysira's blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Alleysira's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://alleysira.github.io/2023/08/08/blockchain-security-practice/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Alleysira">
      <meta itemprop="description" content="School of Cyber Science and Teconology, BUAA">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alleysira's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          blockchain_security_practice
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-08-08 15:24:54" itemprop="dateCreated datePublished" datetime="2023-08-08T15:24:54+08:00">2023-08-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-08-25 14:29:00" itemprop="dateModified" datetime="2023-08-25T14:29:00+08:00">2023-08-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blockchain/" itemprop="url" rel="index"><span itemprop="name">Blockchain</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>记录进行区块链安全相关实践的内容</p>
<span id="more"></span>
<h1 id="Etherscan"><a href="#Etherscan" class="headerlink" title="Etherscan"></a>Etherscan</h1><p>网址 <a target="_blank" rel="noopener" href="https://etherscan.io/">Ethereum (ETH) Blockchain Explorer (etherscan.io)</a></p>
<p>该地址下可以看到已经部署验证后的合约<a target="_blank" rel="noopener" href="https://etherscan.io/contractsVerified">Ethereum Verified Contracts</a></p>
<p>以<a target="_blank" rel="noopener" href="https://goerli.etherscan.io/address/0xD1077555f910F90EFC8Bd755EaA9B2772907189D#code">ERC20Staking</a>合约为例，能够看到合约的源代码，合约的ABI、合约的合约创建代码和合约的部署字节码</p>
<ul>
<li><p>合约创建代码定义了合约的初始状态、功能和行为。通常包括合约的构造函数和初始状态设置。以字节码的形式存在</p>
</li>
<li><p>合约的部署字节码，也称为运行时字节码，是智能合约在部署到以太坊网络后实际运行的字节码表示形式</p>
</li>
</ul>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808153518780.png" alt="image-20230808153518780"></p>
<p>可以对合约的字节代码进行反编译</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808153721923.png" alt="image-20230808153721923"></p>
<p>顺便测试之前老师提到的 智能合约反编译的网站 <a target="_blank" rel="noopener" href="https://ethervm.io/decompile">https://ethervm.io/decompile</a></p>
<p>填写合约地址，选择对应的测试网后能够进行反编译，给出合约的public函数和internal函数，合约源代码以及反汇编的结果</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808154346951.png" alt="image-20230808154346951" style="zoom: 67%;"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808154435450.png" alt="image-20230808154435450"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808154716045.png" alt="image-20230808154716045"></p>
<h2 id="Blocksec-MetaDock"><a href="#Blocksec-MetaDock" class="headerlink" title="Blocksec-MetaDock"></a>Blocksec-MetaDock</h2><p>安装了MetaDock之后能够在浏览器的IDE中直接查看合约的源代码</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808162645237.png" alt="image-20230808162645237"></p>
<ul>
<li>[ ] 但是好像没有之前老师的下载zip的功能，后续再请教一下老师</li>
</ul>
<h2 id="安装solidity编译器"><a href="#安装solidity编译器" class="headerlink" title="安装solidity编译器"></a>安装solidity编译器</h2><p>参考登链社区翻译的 <a target="_blank" rel="noopener" href="https://solidity-cn.readthedocs.io/zh/develop/installing-solidity.html">文档</a> 在Ubuntu上安装编译器</p>
<p>最好安装<a target="_blank" rel="noopener" href="https://github.com/crytic/solc-select">crytic/solc-select: Manage and switch between Solidity compiler versions (github.com)</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:ethereum/ethereum</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install solc</span><br></pre></td></tr></table></figure>
<p>安装成功</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808162254861.png" alt="image-20230808162254861"></p>
<p>写了一个简单的合约后采用solc进行编译，下载的编译器版本只能编译0.8.21的合约</p>
<p>采用 <code>--bin</code> 参数能够在命令行直接输出字节码</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808164530260.png" alt="image-20230808164530260"></p>
<p>采用<code>--abi --opcodes</code>参数能分别显示合约的abi和操作码</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808164836841.png" alt="image-20230808164836841"></p>
<p>加-o 参数可以把编译结果写入文件</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808165222863.png" alt="image-20230808165222863"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808165241088.png" alt="image-20230808165241088"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808165357492.png" alt="image-20230808165357492"></p>
<p>合约的源码 字节码和操作码之间的关系：</p>
<ul>
<li>源代码是人类可读的智能合约程序代码，通常使用 Solidity 这样的高级编程语言编写。源码首先被编译成EVM操作码，再被被编码成字节码 </li>
<li>操作码是EVM的基本指令，包括数学运算、位运算、流程控制等</li>
<li>字节码是合约在区块链上实际执行的形式，包括操作码opcode和操作数operand，每个字节对应一个操作码或者操作数；操作码一般是1个字节，操作数可以是多个字节</li>
</ul>
<h1 id="Ganache和MetaMask"><a href="#Ganache和MetaMask" class="headerlink" title="Ganache和MetaMask"></a>Ganache和MetaMask</h1><p><img src="/2023/08/08/blockchain-security-practice/image-20230809123056555.png" alt="image-20230809123056555" style="zoom:67%;"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809123117003.png" alt="image-20230809123117003"></p>
<p>可以查看发币的交易</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809123156744.png" alt="image-20230809123156744"></p>
<p>领取LINK token</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809123255480.png" alt="image-20230809123255480"></p>
<p>安装好Ganathe后，将一个账户的私钥导入metamask并添加测试网络，填写RPC和链ID等信息</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809150904086.png" alt="image-20230809150904086"></p>
<p>成功将metamask与ganathe连接</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809123908501.png" alt="image-20230809123908501"></p>
<h1 id="Remix"><a href="#Remix" class="headerlink" title="Remix"></a>Remix</h1><p>将合约部署在测试网Sepolia上</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809152038862.png" alt="image-20230809152038862"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809152103463.png" alt="image-20230809152103463"></p>
<p>将合约部署在Ganathe上</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809151550887.png" alt="image-20230809151550887"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809151841133.png" alt="image-20230809151841133"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809151740084.png" alt="image-20230809151740084"></p>
<h1 id="Smartbugs工具使用"><a href="#Smartbugs工具使用" class="headerlink" title="Smartbugs工具使用"></a>Smartbugs工具使用</h1><p>Smartbugs集成了19种智能合约漏洞检查的工具，并提供了统一的调用接口，现已为2.0版本（还挂在arxiv上</p>
<p>项目地址 <a target="_blank" rel="noopener" href="https://github.com/smartbugs/smartbugs">smartbugs/smartbugs: SmartBugs: A Framework to Analyze Ethereum Smart Contracts (github.com)</a></p>
<p>支持的工具包括</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808161355316.png" alt="image-20230808161355316" style="zoom:67%;"></p>
<p>对分析后结果进行解析，方便肉眼查看</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./reparse results <span class="comment"># 获得json</span></span><br><span class="line">./results2csv -p results &gt; results.csv <span class="comment">#得到csv文件</span></span><br></pre></td></tr></table></figure>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809104309202.png" alt="image-20230809104309202"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809104629946.png" alt="image-20230809104629946"></p>
<h2 id="Confuzzius"><a href="#Confuzzius" class="headerlink" title="Confuzzius"></a>Confuzzius</h2><p>项目地址 <a target="_blank" rel="noopener" href="https://github.com/christoftorres/ConFuzzius">christoftorres/ConFuzzius: A data dependency-aware hybrid fuzzer for Ethereum smart contracts (EuroS&amp;P 2021). (github.com)</a> 玩了个孔子的谐音梗</p>
<p>下载作者提供的docker</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker pull christoftorres/confuzzius</span><br><span class="line">docker run -i -t christoftorres/confuzzius</span><br><span class="line">python3 fuzzer/main.py -s examples/TokenSale/contracts/TokenSale.sol -c TokenSale --solc v0.4.26 --evm byzantium -t 10</span><br></pre></td></tr></table></figure>
<p>测试的合约是被测试合约为TokenSale.sol，比较简单</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.26;</span><br><span class="line"></span><br><span class="line">interface Token &#123;</span><br><span class="line">  function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);</span><br><span class="line">  function allowance(address owner, address spender) external view returns (uint256);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">contract TokenSale &#123;</span><br><span class="line">  uint256 start = now;</span><br><span class="line">  uint256 end = now + 30 days;</span><br><span class="line">  address wallet = 0xCafEBAbECAFEbAbEcaFEbabECAfebAbEcAFEBaBe;</span><br><span class="line">  Token token = Token(0x1234567812345678123456781234567812345678);</span><br><span class="line"></span><br><span class="line">  address owner;</span><br><span class="line">  bool sold;</span><br><span class="line"></span><br><span class="line">  function Tokensale() public &#123;</span><br><span class="line">    owner = msg.sender;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function buy() public payable &#123;</span><br><span class="line">    require(now &lt; end);</span><br><span class="line">    require(msg.value == 42 ether + (now - start) / 60 / 60 / 24 * 1 ether);</span><br><span class="line">    require(token.transferFrom(this, msg.sender, token.allowance(wallet, this)));</span><br><span class="line">    sold = true;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function withdraw() public &#123;</span><br><span class="line">    require(msg.sender == owner);</span><br><span class="line">    require(now &gt;= end);</span><br><span class="line">    require(sold);</span><br><span class="line">    owner.transfer(address(this).balance);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实验结果显示代码覆盖率非常优秀，能够检测出区块信息依赖和以太币泄露漏洞</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230726161506767.png" alt="image-20230726161506767"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230726161452774.png" alt="image-20230726161452774"></p>
<p>能够给出具体产生漏洞的交易序列：</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230726161536978.png" alt="image-20230726161536978"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230726161548380.png" alt="image-20230726161548380"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230726161601382.png" alt="image-20230726161601382"></p>
<h3 id="测试较为复杂的合约WalletLibrary"><a href="#测试较为复杂的合约WalletLibrary" class="headerlink" title="测试较为复杂的合约WalletLibrary"></a>测试较为复杂的合约WalletLibrary</h3><p><img src="/2023/08/08/blockchain-security-practice/image-20230726161201164.png" alt="image-20230726161201164"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230726161215584.png" alt="image-20230726161215584"></p>
<p>代码覆盖率依然比较优秀，74.99%（2881/3842），单个合约仅10.62s</p>
<h2 id="Mythril"><a href="#Mythril" class="headerlink" title="Mythril"></a>Mythril</h2><p>这个工具是HITB大会上Smashing Ethereum Smart Contracts for Fun and Real Profit这篇报告对应的工具，据Confuzzius作者在论文中提到，是Smartbugs1.0工具中效果最好的</p>
<p>项目地址 <a target="_blank" rel="noopener" href="https://github.com/Consensys/mythril">Consensys/mythril: Security analysis tool for EVM bytecode. Supports smart contracts built for Ethereum, Hedera, Quorum, Vechain, Roostock, Tron and other EVM-compatible blockchains. (github.com)</a></p>
<h3 id="Smartbugs内的测试"><a href="#Smartbugs内的测试" class="headerlink" title="Smartbugs内的测试"></a>Smartbugs内的测试</h3><p>测试samples目录下所有合约</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jie@jie-virtual-machine:~/smartbugs$ ./smartbugs -t mythril -f samples/*.sol --processes 2 --mem-limit 4g --timeout 600</span><br></pre></td></tr></table></figure>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808190913454.png" alt="image-20230808190913454"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230808191054123.png" alt="image-20230808191054123"></p>
<h3 id="安装作者提供的工具"><a href="#安装作者提供的工具" class="headerlink" title="安装作者提供的工具"></a>安装作者提供的工具</h3><p>下载作者提供的docker</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mythril/myth</span><br></pre></td></tr></table></figure>
<p>参考文档<a target="_blank" rel="noopener" href="https://mythril-classic.readthedocs.io/en/master/installation.html#docker">官方文档</a>进行调用</p>
<p>windows没跑出结果，已经在github上跟作者反应了，<a target="_blank" rel="noopener" href="https://github.com/Consensys/mythril/issues/1790">Issues · Consensys/mythril (github.com)</a>，怀疑是powershell的问题</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@jie-virtual-machine:~$ docker run mythril/myth a /opt/mythril/solidity_examples/calls.sol mythril.interfaces.cli [ERROR]: Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/mythril/interfaces/cli.py&quot;</span>, line 966, <span class="keyword">in</span> parse_args_and_execute</span><br><span class="line">    address = load_code(disassembler, args)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/mythril/interfaces/cli.py&quot;</span>, line 717, <span class="keyword">in</span> load_code</span><br><span class="line">    address, _ = disassembler.load_from_solidity(</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/mythril/mythril/mythril_disassembler.py&quot;</span>, line 252, <span class="keyword">in</span> load_from_solidity</span><br><span class="line">    solc_binary = self.solc_binary or util.extract_binary(file)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/mythril/ethereum/util.py&quot;</span>, line 227, <span class="keyword">in</span> extract_binary</span><br><span class="line">    with open(file) as f:</span><br><span class="line">FileNotFoundError: [Errno 2] No such file or directory: <span class="string">&#x27;/opt/mythril/solidity_examples/calls.sol&#x27;</span></span><br></pre></td></tr></table></figure>
<p>换了Ubuntu之后，可以成功挂载本地合约进行测试了</p>
<p>实验命令和实验结果</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br></pre></td><td class="code"><pre><span class="line">jie@jie-virtual-machine:~$ docker run -v $(<span class="built_in">pwd</span>):/tmp mythril/myth analyze /tmp/contracts/calls.sol</span><br><span class="line">==== External Call To User-Supplied Address ====</span><br><span class="line">SWC ID: 107</span><br><span class="line">Severity: Low</span><br><span class="line">Contract: Caller</span><br><span class="line">Function name: thisisfine()</span><br><span class="line">PC address: 461</span><br><span class="line">Estimated Gas Usage: 2077 - 36971</span><br><span class="line">A call to a user-supplied address is executed.</span><br><span class="line">An external message call to an address specified by the <span class="built_in">caller</span> is executed. Note that the callee account might contain arbitrary code and could re-enter any <span class="keyword">function</span> within this contract. Reentering the contract <span class="keyword">in</span> an intermediate state may lead to unexpected behaviour. Make sure that no state modifications are executed after this call and/or reentrancy guards are <span class="keyword">in</span> place.</span><br><span class="line">--------------------</span><br><span class="line">In file: /tmp/contracts/calls.sol:15</span><br><span class="line"></span><br><span class="line">fixed_address.call(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">--------------------</span><br><span class="line">Initial State:</span><br><span class="line"></span><br><span class="line">Account: [CREATOR], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line">Account: [ATTACKER], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line"></span><br><span class="line">Transaction Sequence:</span><br><span class="line"></span><br><span class="line">Caller: [CREATOR], calldata: 000000000000000000000000deadbeefdeadbeefdeadbeefdeadbeefdeadbeef0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, decoded_data: , value: 0x0</span><br><span class="line">Caller: [CREATOR], <span class="keyword">function</span>: thisisfine(), txdata: 0x5a6814ec, value: 0x0</span><br><span class="line"></span><br><span class="line">==== Unchecked <span class="built_in">return</span> value from external call. ====</span><br><span class="line">SWC ID: 104</span><br><span class="line">Severity: Medium</span><br><span class="line">Contract: Caller</span><br><span class="line">Function name: thisisfine()</span><br><span class="line">PC address: 461</span><br><span class="line">Estimated Gas Usage: 2077 - 36971</span><br><span class="line">The <span class="built_in">return</span> value of a message call is not checked.</span><br><span class="line">External calls <span class="built_in">return</span> a boolean value. If the callee halts with an exception, <span class="string">&#x27;false&#x27;</span> is returned and execution continues <span class="keyword">in</span> the <span class="built_in">caller</span>. The <span class="built_in">caller</span> should check whether an exception happened and react accordingly to avoid unexpected behavior. For example it is often desirable to wrap external calls <span class="keyword">in</span> require() so the transaction is reverted <span class="keyword">if</span> the call fails.</span><br><span class="line">--------------------</span><br><span class="line">In file: /tmp/contracts/calls.sol:15</span><br><span class="line"></span><br><span class="line">fixed_address.call(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">--------------------</span><br><span class="line">Initial State:</span><br><span class="line"></span><br><span class="line">Account: [CREATOR], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line">Account: [ATTACKER], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line"></span><br><span class="line">Transaction Sequence:</span><br><span class="line"></span><br><span class="line">Caller: [CREATOR], calldata: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, decoded_data: , value: 0x0</span><br><span class="line">Caller: [SOMEGUY], <span class="keyword">function</span>: calluseraddress(address), txdata: 0xe1d10f790000000000000000000000000000000000000000000000000000000000000000, decoded_data: (<span class="string">&#x27;0x0000000000000000000000000000000000000000&#x27;</span>,), value: 0x0</span><br><span class="line">Caller: [CREATOR], <span class="keyword">function</span>: thisisfine(), txdata: 0x5a6814ec, value: 0x0</span><br><span class="line"></span><br><span class="line">==== External Call To User-Supplied Address ====</span><br><span class="line">SWC ID: 107</span><br><span class="line">Severity: Low</span><br><span class="line">Contract: Caller</span><br><span class="line">Function name: callstoredaddress()</span><br><span class="line">PC address: 639</span><br><span class="line">Estimated Gas Usage: 2057 - 36951</span><br><span class="line">A call to a user-supplied address is executed.</span><br><span class="line">An external message call to an address specified by the <span class="built_in">caller</span> is executed. Note that the callee account might contain arbitrary code and could re-enter any <span class="keyword">function</span> within this contract. Reentering the contract <span class="keyword">in</span> an intermediate state may lead to unexpected behaviour. Make sure that no state modifications are executed after this call and/or reentrancy guards are <span class="keyword">in</span> place.</span><br><span class="line">--------------------</span><br><span class="line">In file: /tmp/contracts/calls.sol:28</span><br><span class="line"></span><br><span class="line">stored_address.call(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">--------------------</span><br><span class="line">Initial State:</span><br><span class="line"></span><br><span class="line">Account: [CREATOR], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line">Account: [ATTACKER], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line"></span><br><span class="line">Transaction Sequence:</span><br><span class="line"></span><br><span class="line">Caller: [CREATOR], calldata: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, decoded_data: , value: 0x0</span><br><span class="line">Caller: [CREATOR], <span class="keyword">function</span>: setstoredaddress(address), txdata: 0x2776b163000000000000000000000000deadbeefdeadbeefdeadbeefdeadbeefdeadbeef, decoded_data: (<span class="string">&#x27;0xdeadbeefdeadbeefdeadbeefdeadbeefdeadbeef&#x27;</span>,), value: 0x0</span><br><span class="line">Caller: [ATTACKER], <span class="keyword">function</span>: callstoredaddress(), txdata: 0xd24b08cc, value: 0x0</span><br><span class="line"></span><br><span class="line">==== Unchecked <span class="built_in">return</span> value from external call. ====</span><br><span class="line">SWC ID: 104</span><br><span class="line">Severity: Medium</span><br><span class="line">Contract: Caller</span><br><span class="line">Function name: callstoredaddress()</span><br><span class="line">PC address: 639</span><br><span class="line">Estimated Gas Usage: 2057 - 36951</span><br><span class="line">The <span class="built_in">return</span> value of a message call is not checked.</span><br><span class="line">External calls <span class="built_in">return</span> a boolean value. If the callee halts with an exception, <span class="string">&#x27;false&#x27;</span> is returned and execution continues <span class="keyword">in</span> the <span class="built_in">caller</span>. The <span class="built_in">caller</span> should check whether an exception happened and react accordingly to avoid unexpected behavior. For example it is often desirable to wrap external calls <span class="keyword">in</span> require() so the transaction is reverted <span class="keyword">if</span> the call fails.</span><br><span class="line">--------------------</span><br><span class="line">In file: /tmp/contracts/calls.sol:28</span><br><span class="line"></span><br><span class="line">stored_address.call(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">--------------------</span><br><span class="line">Initial State:</span><br><span class="line"></span><br><span class="line">Account: [CREATOR], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line">Account: [ATTACKER], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line"></span><br><span class="line">Transaction Sequence:</span><br><span class="line"></span><br><span class="line">Caller: [CREATOR], calldata: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, decoded_data: , value: 0x0</span><br><span class="line">Caller: [SOMEGUY], <span class="keyword">function</span>: calluseraddress(address), txdata: 0xe1d10f790000000000000000000000000000000000000000000000000000000000000000, decoded_data: (<span class="string">&#x27;0x0000000000000000000000000000000000000000&#x27;</span>,), value: 0x0</span><br><span class="line">Caller: [CREATOR], <span class="keyword">function</span>: callstoredaddress(), txdata: 0xd24b08cc, value: 0x0</span><br><span class="line"></span><br><span class="line">==== External Call To User-Supplied Address ====</span><br><span class="line">SWC ID: 107</span><br><span class="line">Severity: Low</span><br><span class="line">Contract: Caller</span><br><span class="line">Function name: reentrancy()</span><br><span class="line">PC address: 777</span><br><span class="line">Estimated Gas Usage: 7090 - 61984</span><br><span class="line">A call to a user-supplied address is executed.</span><br><span class="line">An external message call to an address specified by the <span class="built_in">caller</span> is executed. Note that the callee account might contain arbitrary code and could re-enter any <span class="keyword">function</span> within this contract. Reentering the contract <span class="keyword">in</span> an intermediate state may lead to unexpected behaviour. Make sure that no state modifications are executed after this call and/or reentrancy guards are <span class="keyword">in</span> place.</span><br><span class="line">--------------------</span><br><span class="line">In file: /tmp/contracts/calls.sol:19</span><br><span class="line"></span><br><span class="line">fixed_address.call(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">--------------------</span><br><span class="line">Initial State:</span><br><span class="line"></span><br><span class="line">Account: [CREATOR], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line">Account: [ATTACKER], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line"></span><br><span class="line">Transaction Sequence:</span><br><span class="line"></span><br><span class="line">Caller: [CREATOR], calldata: 000000000000000000000000deadbeefdeadbeefdeadbeefdeadbeefdeadbeef0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, decoded_data: , value: 0x0</span><br><span class="line">Caller: [SOMEGUY], <span class="keyword">function</span>: reentrancy(), txdata: 0xe11f493e, value: 0x0</span><br><span class="line"></span><br><span class="line">==== Unchecked <span class="built_in">return</span> value from external call. ====</span><br><span class="line">SWC ID: 104</span><br><span class="line">Severity: Medium</span><br><span class="line">Contract: Caller</span><br><span class="line">Function name: reentrancy()</span><br><span class="line">PC address: 777</span><br><span class="line">Estimated Gas Usage: 7090 - 61984</span><br><span class="line">The <span class="built_in">return</span> value of a message call is not checked.</span><br><span class="line">External calls <span class="built_in">return</span> a boolean value. If the callee halts with an exception, <span class="string">&#x27;false&#x27;</span> is returned and execution continues <span class="keyword">in</span> the <span class="built_in">caller</span>. The <span class="built_in">caller</span> should check whether an exception happened and react accordingly to avoid unexpected behavior. For example it is often desirable to wrap external calls <span class="keyword">in</span> require() so the transaction is reverted <span class="keyword">if</span> the call fails.</span><br><span class="line">--------------------</span><br><span class="line">In file: /tmp/contracts/calls.sol:19</span><br><span class="line"></span><br><span class="line">fixed_address.call(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">--------------------</span><br><span class="line">Initial State:</span><br><span class="line"></span><br><span class="line">Account: [CREATOR], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line">Account: [ATTACKER], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line"></span><br><span class="line">Transaction Sequence:</span><br><span class="line"></span><br><span class="line">Caller: [CREATOR], calldata: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, decoded_data: , value: 0x0</span><br><span class="line">Caller: [SOMEGUY], <span class="keyword">function</span>: calluseraddress(address), txdata: 0xe1d10f790000000000000000000000000000000000000000000000000000000000000000, decoded_data: (<span class="string">&#x27;0x0000000000000000000000000000000000000000&#x27;</span>,), value: 0x0</span><br><span class="line">Caller: [CREATOR], <span class="keyword">function</span>: reentrancy(), txdata: 0xe11f493e, value: 0x0</span><br><span class="line"></span><br><span class="line">==== State access after external call ====</span><br><span class="line">SWC ID: 107</span><br><span class="line">Severity: Medium</span><br><span class="line">Contract: Caller</span><br><span class="line">Function name: reentrancy()</span><br><span class="line">PC address: 839</span><br><span class="line">Estimated Gas Usage: 7090 - 61984</span><br><span class="line">Write to persistent state following external call</span><br><span class="line">The contract account state is accessed after an external call to a user defined address. To prevent reentrancy issues, consider accessing the state only before the call, especially <span class="keyword">if</span> the callee is untrusted. Alternatively, a reentrancy lock can be used to prevent untrusted callees from re-entering the contract <span class="keyword">in</span> an intermediate state.</span><br><span class="line">--------------------</span><br><span class="line">In file: /tmp/contracts/calls.sol:20</span><br><span class="line"></span><br><span class="line">statevar = 0</span><br><span class="line"></span><br><span class="line">--------------------</span><br><span class="line">Initial State:</span><br><span class="line"></span><br><span class="line">Account: [CREATOR], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line">Account: [ATTACKER], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line"></span><br><span class="line">Transaction Sequence:</span><br><span class="line"></span><br><span class="line">Caller: [CREATOR], calldata: 000000000000000000000000deadbeefdeadbeefdeadbeefdeadbeefdeadbeef0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, decoded_data: , value: 0x0</span><br><span class="line">Caller: [SOMEGUY], <span class="keyword">function</span>: reentrancy(), txdata: 0xe11f493e, value: 0x0</span><br><span class="line"></span><br><span class="line">==== External Call To User-Supplied Address ====</span><br><span class="line">SWC ID: 107</span><br><span class="line">Severity: Low</span><br><span class="line">Contract: Caller</span><br><span class="line">Function name: calluseraddress(address)</span><br><span class="line">PC address: 891</span><br><span class="line">Estimated Gas Usage: 1576 - 36140</span><br><span class="line">A call to a user-supplied address is executed.</span><br><span class="line">An external message call to an address specified by the <span class="built_in">caller</span> is executed. Note that the callee account might contain arbitrary code and could re-enter any <span class="keyword">function</span> within this contract. Reentering the contract <span class="keyword">in</span> an intermediate state may lead to unexpected behaviour. Make sure that no state modifications are executed after this call and/or reentrancy guards are <span class="keyword">in</span> place.</span><br><span class="line">--------------------</span><br><span class="line">In file: /tmp/contracts/calls.sol:24</span><br><span class="line"></span><br><span class="line">addr.call(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">--------------------</span><br><span class="line">Initial State:</span><br><span class="line"></span><br><span class="line">Account: [CREATOR], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line">Account: [ATTACKER], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line"></span><br><span class="line">Transaction Sequence:</span><br><span class="line"></span><br><span class="line">Caller: [CREATOR], calldata: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, decoded_data: , value: 0x0</span><br><span class="line">Caller: [SOMEGUY], <span class="keyword">function</span>: calluseraddress(address), txdata: 0xe1d10f79000000000000000000000000deadbeefdeadbeefdeadbeefdeadbeefdeadbeef, decoded_data: (<span class="string">&#x27;0xdeadbeefdeadbeefdeadbeefdeadbeefdeadbeef&#x27;</span>,), value: 0x0</span><br><span class="line"></span><br><span class="line">==== Unchecked <span class="built_in">return</span> value from external call. ====</span><br><span class="line">SWC ID: 104</span><br><span class="line">Severity: Medium</span><br><span class="line">Contract: Caller</span><br><span class="line">Function name: calluseraddress(address)</span><br><span class="line">PC address: 891</span><br><span class="line">Estimated Gas Usage: 1576 - 36140</span><br><span class="line">The <span class="built_in">return</span> value of a message call is not checked.</span><br><span class="line">External calls <span class="built_in">return</span> a boolean value. If the callee halts with an exception, <span class="string">&#x27;false&#x27;</span> is returned and execution continues <span class="keyword">in</span> the <span class="built_in">caller</span>. The <span class="built_in">caller</span> should check whether an exception happened and react accordingly to avoid unexpected behavior. For example it is often desirable to wrap external calls <span class="keyword">in</span> require() so the transaction is reverted <span class="keyword">if</span> the call fails.</span><br><span class="line">--------------------</span><br><span class="line">In file: /tmp/contracts/calls.sol:24</span><br><span class="line"></span><br><span class="line">addr.call(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">--------------------</span><br><span class="line">Initial State:</span><br><span class="line"></span><br><span class="line">Account: [CREATOR], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line">Account: [ATTACKER], balance: 0x0, nonce:0, storage:&#123;&#125;</span><br><span class="line"></span><br><span class="line">Transaction Sequence:</span><br><span class="line"></span><br><span class="line">Caller: [CREATOR], calldata: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, decoded_data: , value: 0x0</span><br><span class="line">Caller: [SOMEGUY], <span class="keyword">function</span>: calluseraddress(address), txdata: 0xe1d10f790000000000000000000000000000000000000000000000000000000000000000, decoded_data: (<span class="string">&#x27;0x0000000000000000000000000000000000000000&#x27;</span>,), value: 0x0</span><br><span class="line">Caller: [CREATOR], <span class="keyword">function</span>: calluseraddress(address), txdata: 0xe1d10f790000000000000000000000000000000000000000000000000000000000000000, decoded_data: (<span class="string">&#x27;0x0000000000000000000000000000000000000000&#x27;</span>,), value: 0x0</span><br></pre></td></tr></table></figure>
<p>测试了另一个合约，需要修改编辑器版本，没有挂梯子域名解析错了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">jie@jie-virtual-machine:~$ docker run -v $(<span class="built_in">pwd</span>):/tmp mythril/myth analyze /tmp/contracts/killbilly.sol --solv 0.5.7</span><br><span class="line">mythril.interfaces.cli [ERROR]: Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/urllib3/connection.py&quot;</span>, line 200, <span class="keyword">in</span> _new_conn</span><br><span class="line">    sock = connection.create_connection(</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/urllib3/util/connection.py&quot;</span>, line 60, <span class="keyword">in</span> create_connection</span><br><span class="line">    <span class="keyword">for</span> res <span class="keyword">in</span> socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/socket.py&quot;</span>, line 955, <span class="keyword">in</span> getaddrinfo</span><br><span class="line">    <span class="keyword">for</span> res <span class="keyword">in</span> _socket.getaddrinfo(host, port, family, <span class="built_in">type</span>, proto, flags):</span><br><span class="line">socket.gaierror: [Errno -3] Temporary failure <span class="keyword">in</span> name resolution</span><br><span class="line"></span><br><span class="line">The above exception was the direct cause of the following exception:</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py&quot;</span>, line 790, <span class="keyword">in</span> urlopen</span><br><span class="line">    response = self._make_request(</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py&quot;</span>, line 491, <span class="keyword">in</span> _make_request</span><br><span class="line">    raise new_e</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py&quot;</span>, line 467, <span class="keyword">in</span> _make_request</span><br><span class="line">    self._validate_conn(conn)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py&quot;</span>, line 1092, <span class="keyword">in</span> _validate_conn</span><br><span class="line">    conn.connect()</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/urllib3/connection.py&quot;</span>, line 604, <span class="keyword">in</span> connect</span><br><span class="line">    self.sock = sock = self._new_conn()</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/urllib3/connection.py&quot;</span>, line 207, <span class="keyword">in</span> _new_conn</span><br><span class="line">    raise NameResolutionError(self.host, self, e) from e</span><br><span class="line">urllib3.exceptions.NameResolutionError: &lt;urllib3.connection.HTTPSConnection object at 0x7f0a9f3649d0&gt;: Failed to resolve <span class="string">&#x27;solc-bin.ethereum.org&#x27;</span> ([Errno -3] Temporary failure <span class="keyword">in</span> name resolution)</span><br><span class="line"></span><br><span class="line">The above exception was the direct cause of the following exception:</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/requests/adapters.py&quot;</span>, line 486, <span class="keyword">in</span> send</span><br><span class="line">    resp = conn.urlopen(</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py&quot;</span>, line 844, <span class="keyword">in</span> urlopen</span><br><span class="line">    retries = retries.increment(</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/urllib3/util/retry.py&quot;</span>, line 515, <span class="keyword">in</span> increment</span><br><span class="line">    raise MaxRetryError(_pool, url, reason) from reason  <span class="comment"># type: ignore[arg-type]</span></span><br><span class="line">urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host=<span class="string">&#x27;solc-bin.ethereum.org&#x27;</span>, port=443): Max retries exceeded with url: /linux-amd64/list.json (Caused by NameResolutionError(<span class="string">&quot;&lt;urllib3.connection.HTTPSConnection object at 0x7f0a9f3649d0&gt;: Failed to resolve &#x27;solc-bin.ethereum.org&#x27; ([Errno -3] Temporary failure in name resolution)&quot;</span>))</span><br><span class="line"></span><br><span class="line">During handling of the above exception, another exception occurred:</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/mythril/interfaces/cli.py&quot;</span>, line 958, <span class="keyword">in</span> parse_args_and_execute</span><br><span class="line">    disassembler = MythrilDisassembler(</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/mythril/mythril/mythril_disassembler.py&quot;</span>, line 60, <span class="keyword">in</span> __init__</span><br><span class="line">    self.solc_binary = self._init_solc_binary(solc_version)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/mythril/mythril/mythril_disassembler.py&quot;</span>, line 93, <span class="keyword">in</span> _init_solc_binary</span><br><span class="line">    solc_binary = util.solc_exists(version)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/mythril/ethereum/util.py&quot;</span>, line 140, <span class="keyword">in</span> solc_exists</span><br><span class="line">    solcx.install_solc(<span class="string">&quot;v&quot;</span> + version)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/solcx/install.py&quot;</span>, line 441, <span class="keyword">in</span> install_solc</span><br><span class="line">    data = requests.get(BINARY_DOWNLOAD_BASE.format(_get_os_name(), <span class="string">&quot;list.json&quot;</span>))</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/requests/api.py&quot;</span>, line 73, <span class="keyword">in</span> get</span><br><span class="line">    <span class="built_in">return</span> request(<span class="string">&quot;get&quot;</span>, url, params=params, **kwargs)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/requests/api.py&quot;</span>, line 59, <span class="keyword">in</span> request</span><br><span class="line">    <span class="built_in">return</span> session.request(method=method, url=url, **kwargs)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/requests/sessions.py&quot;</span>, line 589, <span class="keyword">in</span> request</span><br><span class="line">    resp = self.send(prep, **send_kwargs)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/requests/sessions.py&quot;</span>, line 703, <span class="keyword">in</span> send</span><br><span class="line">    r = adapter.send(request, **kwargs)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/site-packages/requests/adapters.py&quot;</span>, line 519, <span class="keyword">in</span> send</span><br><span class="line">    raise ConnectionError(e, request=request)</span><br><span class="line">requests.exceptions.ConnectionError: HTTPSConnectionPool(host=<span class="string">&#x27;solc-bin.ethereum.org&#x27;</span>, port=443): Max retries exceeded with url: /linux-amd64/list.json (Caused by NameResolutionError(<span class="string">&quot;&lt;urllib3.connection.HTTPSConnection object at 0x7f0a9f3649d0&gt;: Failed to resolve &#x27;solc-bin.ethereum.org&#x27; ([Errno -3] Temporary failure in name resolution)&quot;</span>))</span><br></pre></td></tr></table></figure>
<h2 id="Sucurify2-0"><a href="#Sucurify2-0" class="headerlink" title="Sucurify2.0"></a>Sucurify2.0</h2><p>项目地址 <a target="_blank" rel="noopener" href="https://github.com/eth-sri/securify2">eth-sri/securify2</a></p>
<h3 id="Smartbugs的实验"><a href="#Smartbugs的实验" class="headerlink" title="Smartbugs的实验"></a>Smartbugs的实验</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$./smartbugs -t securify -f samples/*.sol --processes 2 --mem-limit 4g --timeout 60</span><br></pre></td></tr></table></figure>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230718103340279.png" alt="image-20230718103340279"></p>
<p>实验结果存储在<code>./results/securify</code>目录下</p>
<p>目录每个.sol文件分析后包括两个文件，以EtherLotto.sol为例具体来看。</p>
<ul>
<li><code>smartbugs.json</code>具体为调用工具时参数的情况</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//smartbugs.json</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;docker&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;command&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;detach&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">&quot;entrypoint&quot;</span>: <span class="string">&quot;&#x27;/sb/bin/do_solidity.sh&#x27; &#x27;/sb/EtherLotto.sol&#x27; &#x27;/sb/bin&#x27;&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;image&quot;</span>: <span class="string">&quot;smartbugs/security:usolc&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;mem_limit&quot;</span>: <span class="string">&quot;4g&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;user&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;volumes&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;/tmp/tmp86tp_iz9&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;bind&quot;</span>: <span class="string">&quot;/sb&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;mode&quot;</span>: <span class="string">&quot;rw&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;filename&quot;</span>: <span class="string">&quot;samples/EtherLotto.sol&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;platform&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;cpu&quot;</span>: <span class="string">&quot;12th Gen Intel(R) Core(TM) i5-12500H&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;python&quot;</span>: <span class="string">&quot;3.10.6.final.0 (64 bit)&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;release&quot;</span>: <span class="string">&quot;5.19.0-45-generic&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;smartbugs&quot;</span>: <span class="string">&quot;2.0.7&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;system&quot;</span>: <span class="string">&quot;Linux&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;#46~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Wed Jun 7 15:06:04 UTC 20&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;result&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;duration&quot;</span>: <span class="number">17.345403909683228</span>,</span><br><span class="line">        <span class="attr">&quot;exit_code&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;logs&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;output&quot;</span>: <span class="string">&quot;result.tar&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;start&quot;</span>: <span class="number">1689647289.9699748</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;runid&quot;</span>: <span class="string">&quot;20230718_0228&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;solc&quot;</span>: <span class="string">&quot;0.4.26&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;tool&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;bin&quot;</span>: <span class="string">&quot;scripts&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;command&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;cpu_quota&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;entrypoint&quot;</span>: <span class="string">&quot;&#x27;$BIN/do_solidity.sh&#x27; &#x27;$FILENAME&#x27; &#x27;$BIN&#x27;&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;id&quot;</span>: <span class="string">&quot;securify&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;image&quot;</span>: <span class="string">&quot;smartbugs/security:usolc&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;info&quot;</span>: <span class="string">&quot;Securify uses formal verification, also relying on static analysis checks. Securify&#x27;s analysis consists of two steps. First, it symbolically analyzes the contract&#x27;s dependency graph to extract precise semantic information from the code. Then, it checks compliance and violation patterns that capture sufficient conditions for proving if a property holds or not.&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;mem_limit&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">&quot;mode&quot;</span>: <span class="string">&quot;solidity&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Securify&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;origin&quot;</span>: <span class="string">&quot;https://github.com/eth-sri/securify&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;output&quot;</span>: <span class="string">&quot;/results/&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;parser&quot;</span>: <span class="string">&quot;parser.py&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;solc&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">&quot;version&quot;</span>: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>另一个文件是<code>result.tar</code>，解压后可以发现</p>
<ul>
<li><code>live.json</code>文件，具体内容为模式的定义</li>
<li><code>results.json</code>文件，给出了匹配的结果，包括violation 和 warning safe 和 conflicts</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//live.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;decompiled&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;finished&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;patternResults&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;DAO&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;completed&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasViolations&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasWarnings&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasSafe&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasConflicts&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;violations&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;warnings&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;safe&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;DAOConstantGas&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;completed&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasViolations&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasWarnings&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasSafe&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasConflicts&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;violations&quot;</span>: [</span><br><span class="line">        <span class="number">226</span>,</span><br><span class="line">        <span class="number">271</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;warnings&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;safe&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;MissingInputValidation&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;completed&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasViolations&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasWarnings&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasSafe&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasConflicts&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;violations&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;warnings&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;safe&quot;</span>: [</span><br><span class="line">        <span class="number">116</span>,</span><br><span class="line">        <span class="number">116</span>,</span><br><span class="line">        <span class="number">111</span>,</span><br><span class="line">        <span class="number">116</span>,</span><br><span class="line">        <span class="number">111</span>,</span><br><span class="line">        <span class="number">130</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;TODAmount&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;completed&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasViolations&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasWarnings&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasSafe&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasConflicts&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;violations&quot;</span>: [</span><br><span class="line">        <span class="number">271</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;warnings&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;safe&quot;</span>: [</span><br><span class="line">        <span class="number">226</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;TODReceiver&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;completed&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasViolations&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasWarnings&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasSafe&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasConflicts&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;violations&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;warnings&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;safe&quot;</span>: [</span><br><span class="line">        <span class="number">226</span>,</span><br><span class="line">        <span class="number">271</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;TODTransfer&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;completed&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasViolations&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasWarnings&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasSafe&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasConflicts&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;violations&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;warnings&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;safe&quot;</span>: [</span><br><span class="line">        <span class="number">226</span>,</span><br><span class="line">        <span class="number">271</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;UnhandledException&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;completed&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasViolations&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasWarnings&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasSafe&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasConflicts&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;violations&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;warnings&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;safe&quot;</span>: [</span><br><span class="line">        <span class="number">226</span>,</span><br><span class="line">        <span class="number">271</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;UnrestrictedEtherFlow&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;completed&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasViolations&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasWarnings&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;hasSafe&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;hasConflicts&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;violations&quot;</span>: [</span><br><span class="line">        <span class="number">226</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;warnings&quot;</span>: [</span><br><span class="line">        <span class="number">271</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;safe&quot;</span>: [],</span><br><span class="line">      <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//results.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;/sb/EtherLotto.sol:EtherLotto&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;results&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;TODReceiver&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;violations&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;warnings&quot;</span>: [</span><br><span class="line">          <span class="number">48</span>,</span><br><span class="line">          <span class="number">51</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">&quot;safe&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;UnhandledException&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;violations&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;warnings&quot;</span>: [</span><br><span class="line">          <span class="number">48</span>,</span><br><span class="line">          <span class="number">51</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">&quot;safe&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;TODTransfer&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;violations&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;warnings&quot;</span>: [</span><br><span class="line">          <span class="number">48</span>,</span><br><span class="line">          <span class="number">51</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">&quot;safe&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;DAO&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;violations&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;warnings&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;safe&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;TODAmount&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;violations&quot;</span>: [</span><br><span class="line">          <span class="number">51</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">&quot;warnings&quot;</span>: [</span><br><span class="line">          <span class="number">48</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">&quot;safe&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;MissingInputValidation&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;violations&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;warnings&quot;</span>: [</span><br><span class="line">          <span class="number">20</span>,</span><br><span class="line">          <span class="number">23</span>,</span><br><span class="line">          <span class="number">32</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">&quot;safe&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;DAOConstantGas&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;violations&quot;</span>: [</span><br><span class="line">          <span class="number">48</span>,</span><br><span class="line">          <span class="number">51</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">&quot;warnings&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;safe&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;UnrestrictedEtherFlow&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;violations&quot;</span>: [</span><br><span class="line">          <span class="number">48</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">&quot;warnings&quot;</span>: [],</span><br><span class="line">        <span class="attr">&quot;safe&quot;</span>: [</span><br><span class="line">          <span class="number">51</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">&quot;conflicts&quot;</span>: []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>根据实验结果，可能是运行的分析时间较短，许多合约分析结果为空（比如Mytoken.sol)</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230718105438946.png" alt="image-20230718105438946"></p>
<p>parse后查看给出的results.json</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809173729853.png" alt="image-20230809173729853"></p>
<h2 id="sFuzz"><a href="#sFuzz" class="headerlink" title="sFuzz"></a>sFuzz</h2><p>仅支持solidity源代码，对contractFuzzer的改进</p>
<p>项目地址<a target="_blank" rel="noopener" href="https://github.com/duytai/sFuzz">duytai/sFuzz (github.com)</a>，未提供docker，只能自行编译</p>
<h3 id="Smartbugs的实验-1"><a href="#Smartbugs的实验-1" class="headerlink" title="Smartbugs的实验"></a>Smartbugs的实验</h3><p><img src="/2023/08/08/blockchain-security-practice/image-20230809101350192.png" alt="image-20230809101350192"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809101656664.png" alt="image-20230809101656664"></p>
<h3 id="docker内的实验"><a href="#docker内的实验" class="headerlink" title="docker内的实验"></a>docker内的实验</h3><p>在骆九同学帮助下找到了docker，直接进行实验</p>
<p>按照<a target="_blank" rel="noopener" href="https://github.com/duytai/sFuzz">duytai/sFuzz (github.com)</a>的教程，先给出两个合约</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809153500386.png" alt="image-20230809153500386"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./fuzzer -g -r 0 -d 120 &amp;&amp; chmod +x fuzzMe &amp;&amp; ./fuzzMe</span><br></pre></td></tr></table></figure>
<p>获得了fuzzing后的结果</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809153954541.png" alt="image-20230809153954541"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809154619989.png" alt="image-20230809154619989"></p>
<h2 id="Slither"><a href="#Slither" class="headerlink" title="Slither"></a>Slither</h2><p>项目地址：<a target="_blank" rel="noopener" href="https://github.com/crytic/slither#usage">Issues · crytic/slither (github.com)</a></p>
<h3 id="Smartbugs的测试"><a href="#Smartbugs的测试" class="headerlink" title="Smartbugs的测试"></a>Smartbugs的测试</h3><p><img src="/2023/08/08/blockchain-security-practice/image-20230809103030692.png" alt="image-20230809103030692"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809104145895.png" alt="image-20230809104145895"></p>
<h3 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker pull trailofbits/eth-security-toolbox</span><br><span class="line"></span><br><span class="line">ethsec@9a9fde7fab15:~/etheno-examples/BrokenMetaCoin/contracts$ slither MetaCoin.sol --solc-solcs-select 0.5.0</span><br></pre></td></tr></table></figure>
<p>采用—solc-solcs-select 参数指定编译器版本，不然会报错</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809110124068.png" alt="image-20230809110124068"></p>
<p>测试合约中的重入漏洞</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809111650390.png" alt="image-20230809111650390"></p>
<h2 id="Solhint"><a href="#Solhint" class="headerlink" title="Solhint"></a>Solhint</h2><p>项目地址：<a target="_blank" rel="noopener" href="https://github.com/protofire/solhint">protofire/solhint: Solhint is an open-source project to provide a linting utility for Solidity code. (github.com)</a></p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>更新node版本为20.5.0</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo npm cache clean -f //清除nodejs的cache</span><br><span class="line">sudo npm install -g n //使用npm安装n模块</span><br><span class="line">npm view node versions // node所有版本</span><br><span class="line">sudo n latest // 升级到最新版本</span><br></pre></td></tr></table></figure>
<p>安装solhint</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install -g solhint</span><br><span class="line">solhint --version</span><br><span class="line">3.5.1</span><br><span class="line">solhint --init</span><br></pre></td></tr></table></figure>
<p>使用默认的规则测试不出结果</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809122109397.png" alt="image-20230809122109397"></p>
<h3 id="Smartbugs的实验-2"><a href="#Smartbugs的实验-2" class="headerlink" title="Smartbugs的实验"></a>Smartbugs的实验</h3><p><img src="/2023/08/08/blockchain-security-practice/image-20230809122728437.png" alt="image-20230809122728437"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809122840316.png" alt="image-20230809122840316"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230809122853930.png" alt="image-20230809122853930"></p>
<h1 id="Echidna"><a href="#Echidna" class="headerlink" title="Echidna"></a>Echidna</h1><p>参考资料 <a target="_blank" rel="noopener" href="https://juejin.cn/post/7256976847665201212">智能合约模糊测试工具推荐——Echidna - 掘金 (juejin.cn)</a>、<a target="_blank" rel="noopener" href="https://ethereum.org/zh/developers/tutorials/how-to-use-echidna-to-test-smart-contracts/">如何使用 Echidna 测试智能合约 | ethereum.org</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jie@jie-virtual-machine:~/share$ docker run -it -v `<span class="built_in">pwd</span>`:/src echidna:v2.2.1 </span><br></pre></td></tr></table></figure>
<h1 id="docker-1"><a href="#docker-1" class="headerlink" title="docker"></a>docker</h1><p>导出镜像和导入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker save image_id -o image.tar</span><br><span class="line">docker load -i image.tar</span><br><span class="line">docker tar image_id name:tag </span><br></pre></td></tr></table></figure>
<h1 id="Geth"><a href="#Geth" class="headerlink" title="Geth"></a>Geth</h1><p>官方下载发行版 <a target="_blank" rel="noopener" href="https://geth.ethereum.org/downloads">Downloads | go-ethereum</a></p>
<p>有空可以再做一遍这个 <a target="_blank" rel="noopener" href="https://geth.ethereum.org/docs/getting-started">Getting started with Geth | go-ethereum</a></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823160539917.png" alt="image-20230823160539917"></p>
<p>再尝试1.11.6版本</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> E:\Geth1.<span class="number">11.6</span>&gt; geth -<span class="literal">-identity</span> <span class="string">&quot;node&quot;</span> -<span class="literal">-datadir</span> .\data\ -<span class="literal">-networkid</span> <span class="number">9599</span> -<span class="literal">-http</span> -<span class="literal">-http</span>.addr <span class="string">&quot;localhost&quot;</span> -<span class="literal">-http</span>.api=<span class="string">&quot;eth,net,web3,personal,miner,admin,txpool,debug&quot;</span> -<span class="literal">-allow</span><span class="literal">-insecure</span><span class="literal">-unlock</span> -<span class="literal">-http</span>.corsdomain <span class="string">&quot;*&quot;</span> -<span class="literal">-rpc</span>.gascap <span class="number">0</span> console</span><br></pre></td></tr></table></figure>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823161424799.png" alt="image-20230823161424799"></p>
<p>创建账户，然后将账户copy进json配置文件的alloc，将密钥保存到keystore目录下</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823161937784.png" alt="image-20230823161937784"></p>
<p>查看账户</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823162544339.png" alt="image-20230823162544339"></p>
<p>首先设置coinbase地址为当前账户，挖矿前的余额为0，开始挖矿后可以查看到挖矿状态，一段时间后查询余额</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823163015429.png" alt="image-20230823163015429"></p>
<p>停止挖矿</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823163047474.png" alt="image-20230823163047474"></p>
<p>利用区块号查看创世区块</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823163434087.png" alt="image-20230823163434087"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823163415266.png" alt="image-20230823163415266"></p>
<p>没有交易，再新建一个账户来处理交易</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823163827741.png" alt="image-20230823163827741">eth.sendTransaction({from: eth.accounts[0], to: eth.accounts[1],value: web3.toWei(100,”ether”)})</p>
<h2 id="连接remix"><a href="#连接remix" class="headerlink" title="连接remix"></a>连接remix</h2><p>geth —http —http.corsdomain=”<a target="_blank" rel="noopener" href="https://remix.ethereum.org">https://remix.ethereum.org</a>“ —http.api web3,eth,debug,personal,net —vmdebug —datadir .\data`</p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823174806363.png" alt="image-20230823174806363"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823175012906.png" alt="image-20230823175012906" style="zoom:80%;"></p>
<h1 id="Hardhat"><a href="#Hardhat" class="headerlink" title="Hardhat"></a>Hardhat</h1><p>教程 <a target="_blank" rel="noopener" href="https://hardhat.org/tutorial/testing-contracts">5. Testing contracts | Ethereum development environment for professionals by Nomic Foundation (hardhat.org)</a></p>
<p>npm安装 </p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823181841584.png" alt="image-20230823181841584"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823181923882.png" alt="image-20230823181923882"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823182024043.png" alt="image-20230823182024043"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823183046224.png" alt="image-20230823183046224"></p>
<p><img src="/2023/08/08/blockchain-security-practice/image-20230823183530947.png" alt="image-20230823183530947"></p>
<p>安装soldity-coverage工具</p>
<p>问题：</p>
<ul>
<li>修饰器继承</li>
<li>test1为什么返回0</li>
<li>这个优先级有没有总结</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Blockchain/" rel="tag"># Blockchain</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/08/06/sharding-blockchain-survey/" rel="prev" title="sharding-blockchain-survey">
      <i class="fa fa-chevron-left"></i> sharding-blockchain-survey
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/08/18/GearBox/" rel="next" title="GearBox">
      GearBox <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Etherscan"><span class="nav-number">1.</span> <span class="nav-text">Etherscan</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Blocksec-MetaDock"><span class="nav-number">1.1.</span> <span class="nav-text">Blocksec-MetaDock</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85solidity%E7%BC%96%E8%AF%91%E5%99%A8"><span class="nav-number">1.2.</span> <span class="nav-text">安装solidity编译器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Ganache%E5%92%8CMetaMask"><span class="nav-number">2.</span> <span class="nav-text">Ganache和MetaMask</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Remix"><span class="nav-number">3.</span> <span class="nav-text">Remix</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Smartbugs%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8"><span class="nav-number">4.</span> <span class="nav-text">Smartbugs工具使用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Confuzzius"><span class="nav-number">4.1.</span> <span class="nav-text">Confuzzius</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E8%BE%83%E4%B8%BA%E5%A4%8D%E6%9D%82%E7%9A%84%E5%90%88%E7%BA%A6WalletLibrary"><span class="nav-number">4.1.1.</span> <span class="nav-text">测试较为复杂的合约WalletLibrary</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mythril"><span class="nav-number">4.2.</span> <span class="nav-text">Mythril</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Smartbugs%E5%86%85%E7%9A%84%E6%B5%8B%E8%AF%95"><span class="nav-number">4.2.1.</span> <span class="nav-text">Smartbugs内的测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E4%BD%9C%E8%80%85%E6%8F%90%E4%BE%9B%E7%9A%84%E5%B7%A5%E5%85%B7"><span class="nav-number">4.2.2.</span> <span class="nav-text">安装作者提供的工具</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Sucurify2-0"><span class="nav-number">4.3.</span> <span class="nav-text">Sucurify2.0</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Smartbugs%E7%9A%84%E5%AE%9E%E9%AA%8C"><span class="nav-number">4.3.1.</span> <span class="nav-text">Smartbugs的实验</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sFuzz"><span class="nav-number">4.4.</span> <span class="nav-text">sFuzz</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Smartbugs%E7%9A%84%E5%AE%9E%E9%AA%8C-1"><span class="nav-number">4.4.1.</span> <span class="nav-text">Smartbugs的实验</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#docker%E5%86%85%E7%9A%84%E5%AE%9E%E9%AA%8C"><span class="nav-number">4.4.2.</span> <span class="nav-text">docker内的实验</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Slither"><span class="nav-number">4.5.</span> <span class="nav-text">Slither</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Smartbugs%E7%9A%84%E6%B5%8B%E8%AF%95"><span class="nav-number">4.5.1.</span> <span class="nav-text">Smartbugs的测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#docker"><span class="nav-number">4.5.2.</span> <span class="nav-text">docker</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Solhint"><span class="nav-number">4.6.</span> <span class="nav-text">Solhint</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">4.6.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Smartbugs%E7%9A%84%E5%AE%9E%E9%AA%8C-2"><span class="nav-number">4.6.2.</span> <span class="nav-text">Smartbugs的实验</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Echidna"><span class="nav-number">5.</span> <span class="nav-text">Echidna</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#docker-1"><span class="nav-number">6.</span> <span class="nav-text">docker</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Geth"><span class="nav-number">7.</span> <span class="nav-text">Geth</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5remix"><span class="nav-number">7.1.</span> <span class="nav-text">连接remix</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Hardhat"><span class="nav-number">8.</span> <span class="nav-text">Hardhat</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Alleysira</p>
  <div class="site-description" itemprop="description">School of Cyber Science and Teconology, BUAA</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">52</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/alleysira" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;alleysira" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Alleysira</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
